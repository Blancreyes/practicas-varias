<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hello Rigo with Vanilla.js</title>
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.2.0/css/all.css"
      integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
      crossorigin="anonymous"
    />
    <link rel="shortcut icon" href="./4geeks.ico" />
  </head>

  <body>
    <div class="container-fluid text-center">
      <label for="name">Enter a name:</label>
      <input type="text" id="name" />
      <br />
      <label for="nameWithoutVocals">Name without vowels:</label>
      <input type="text" id="nameWithoutVocals" value="" />
      <br />
      <br />
      <hr />
      <br />
      <label for="date">Fecha</label>
      <input type="date" id="date" name="date" />
      <br />

      <label for="days">Dias Transcurridos hasta el 10/03/2023 </label>
      <input type="text" id="days" value disabled />
    </div>

    <script>
      function handleInputName() {
        let name = nameInput.value;
        document.getElementById(
          "nameWithoutVocals"
        ).value = removeVocalsAndSpaces(name);
      }

      function removeVocalsAndSpaces(name) {
        const vocals = " aeiouAEIOUáéíóúÁÉÍÓÚ";
        let nameWithoutVocalsExit = "";

        for (let i = 0; i < name.length; i++) {
          if (!vocals.includes(name[i])) {
            nameWithoutVocalsExit += name[i];
          }
        }

        return nameWithoutVocalsExit;
      }

      function calculateIntervalDays(fromDate, toDate = "10/03/2023") {
        let valores = toDate.split("/");
        let date2 = valores[1] + "/" + valores[0] + "/" + valores[2];

        let difference = Math.ceil(
          (new Date(date2) - new Date(fromDate)) / (1000 * 60 * 60 * 24)
        );

        return difference;
      }

      function handleInputDate() {
        let date1 = startingDate.value;
        document.getElementById("days").value = calculateIntervalDays(date1);
      }

      const nameInput = document.getElementById("name");
      nameInput.addEventListener("blur", handleInputName);

      const startingDate = document.getElementById("date");
      startingDate.addEventListener("blur", handleInputDate);
    </script>
  </body>
</html>
